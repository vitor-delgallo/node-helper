const VDObjectHelper=require("./object.min.js");class VDStringHelper{static isZero(t){try{if("string"==typeof t&&""===t.trim())return!1;if(0===(t=1*t.toString()))return!0}catch(t){}return!1}static isEmpty(t){if(null===t||!1===t||void 0===t)return!0;if(VDObjectHelper.isArrayOrObject(t)){if(void 0===t?.length){let e=!1;for(const r in t)if(e=!0,Object.hasOwn(t,r))return!1;if(!e)return!0}return 0===t.length}try{if(""===(t=t.toString().trim().toLowerCase())||"false"===t||"null"===t||"undefined"===t||"nan"===t)return!0}catch(t){}return this.isZero(t)}static isEmptyDecimal(t){try{return this.isEmpty(parseFloat(t))}catch(t){}return this.isEmpty(t)}static isEmptyInteger(t){try{return this.isEmpty(parseInt(t))}catch(t){}return this.isEmpty(t)}static isEmptyExceptZero(t){return this.isEmpty(t)&&!this.isZero(t)}static hasStr(t,e){return-1!==t.toString().indexOf(e)}static removeStrings(t,e){if(this.isEmpty(e))return t;if(this.isEmpty(t)&&!this.isZero(t))return"";t=t.toString();for(const r of e)t=t.split(r).join("");return t}static removeChrsNotIn(t,e){return this.isEmpty(e)?t:this.isEmpty(t)&&!this.isZero(t)?"":(t=t.toString(),Array.from(t).filter((t=>e.includes(t))).join(""))}static removeChrs(t,e,r){return this.isEmpty(e)&&(e=""),null===t?"":this.isEmpty(r)?this.removeStrings(t,Array.from(e)):this.removeChrsNotIn(t,Array.from(e))}static pad(t,e,r,i){this.isEmpty(t)&&(t=""),this.isEmpty(r)&&(r="0"),(this.isEmpty(i)||"L"!==i.toUpperCase()&&"R"!==i.toUpperCase())&&(i="L"),t=t.toString(),i=i.toUpperCase();let s=t;if(t.length<e)switch(s=new Array(e-t.length+1).join(r),i){case"L":s+=t;break;case"R":s=t+s}return s}static removeMultipleSpaces(t){return t.replace(/ +(?= )/g,"")}static removeAccents(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static removeSpecials(t){return t.normalize("NFD").replace(/(\W+|\s+)/g,"-").replace(/--+/g,"-").replace(/(^-+|-+$)/,"").replace(/-+/g,"")}static stringShuffle(t){return this.isEmptyExceptZero(t)&&(t=""),t.split("").sort((()=>.5-Math.random())).join("")}static generateRandomPassword(t=null,e=null,r=null,i=null,s=null){(this.isEmpty(t)||t<=0)&&(t=16),this.isEmptyExceptZero(e)&&(e=2),this.isEmptyExceptZero(r)&&(r=2),this.isEmptyExceptZero(i)&&(i=2),this.isEmptyExceptZero(s)&&(s=2);const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a="abcdefghijklmnopqrstuvwxyz",o="$#%!@*&()-_+={}[]^~,.<>;",l="0123456789",p=(t,e)=>new Array(e).fill(0).map((()=>t[Math.floor(Math.random()*(t.length-1))])).join("");let c="";e>0&&(c+=p(n,e)),r>0&&(c+=p(a,r)),i>0&&(c+=p(o,i)),s>0&&(c+=p(l,s));let h=t-c.length;return h>0&&(c+=p(n+a+o+l,h)),c=this.stringShuffle(c),c}static removeTags(t){return t.replace(/<[^>]*>?/gm,"")}static normalizeMessageIA4Whats(t){return t.replace(/\*\*(.*?)\*\*/g,"*$1*").replace(/__(.*?)__/g,"*$1*").replace(/_(.*?)_/g,"*$1*").replace(/```(.*?)```/gs,"```$1```").replace(/\n{2,}/g,"\n")}static splitMessageByLength(t,e){if(t.length<=e)return[t];const r=[];let i=t.split("\n"),s="";for(const t of i)(s+"\n"+t).length>e?(r.push(s.trim()),s=t):s+=(s?"\n":"")+t;return s&&r.push(s.trim()),r}}module.exports=VDStringHelper;